<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Millenial Problem Generator</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="googlebot" content="noindex, nofollow" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style type="text/css">
      body {
        background: #20262e;
        padding: 20px;
        font-family: Helvetica;
        font-size: 24pt;
        color: #fff;
      }
      #problem {
        margin: 2em;
      }
    </style>
  </head>
  <body>
      <a id="twitter-share-button"
      target="_"
      href="https://twitter.com/intent/tweet?text=I have a problem">
    Tweet</a>
    
    <h1 id="problem">I have a problem :(</h1>
    <script>
      DATA = {
        app: [
          'Instacart',
          'Instagram',
          'Postmates',
          'Snapchat',
          'Spotify',
          'Tinder',
          'Twitter',
          'Uber',
          'Venmo',
          'Youtube',
          'doordash',
          'my mobile banking app',
          'pandora',
          'slack'
        ],
        noun: [
          '90s themed hair accessory',
          'Bernie merchandise',
          'Reusable water bottle',
          'Tesla',
          'Trump merchandise',
          'adhd meds',
          'anxiety meds',
          'avocado toast',
          'avocado',
          'avocado',
          'baby boomer',
          'bath bomb',
          'beauty box',
          'bike',
          'bitcoin',
          'body positivity',
          'bomber jacket',
          'bubble tea',
          'corgi',
          'craft beer',
          'dead meme',
          'female-led superhero movie',
          'housing crisis',
          'housing crisis',
          'indie band',
          'insomnia',
          'internet',
          'ironic sweater',
          'key fob',
          'kombucha',
          'la croix',
          'manbun',
          'meme',
          'netflix',
          'nostalgia',
          'nude',
          'open relationship',
          'overpriced apartment',
          'phone',
          'polaroid camera',
          'pug',
          'ramen',
          'record',
          'rent money',
          'scented candle',
          'self-driving car',
          'selfie',
          'sexual health',
          'sexuality',
          'siracha',
          'sleeping schedule',
          'spongebob memes',
          'succulent',
          'sushi',
          'therapy',
          'unemployment',
          'vape',
          'vine compilation',
          'wanderlust',
          'weed'
        ],
        pluralNoun: [
          '90s themed hair accessories',
          'Bernie merchandise',
          'Polaroid cameras',
          'Reusable water bottles',
          'Teslas',
          'Trump merchandise',
          'adhd meds',
          'anxiety meds',
          'avocado toast',
          'avocados',
          'avocados',
          'baby boomers',
          'bath bombs',
          'beauty boxes',
          'bikes',
          'bitcoins',
          'body positivity',
          'bomber jackets',
          'bubble tea',
          'corgis',
          'craft beer',
          'dead memes',
          'female-led superhero movies',
          'housing crises',
          'housing crisis',
          'indie bands',
          'insomnia',
          'internet',
          'ironic sweaters',
          'key fobs',
          'kombucha',
          'la croix',
          'manbuns',
          'memes',
          'memes',
          'netflix',
          'nostalgia',
          'nudes',
          'open relationships',
          'overpriced apartments',
          'people',
          'phones',
          'pugs',
          'ramen',
          'records',
          'rent money',
          'scented candles',
          'self-driving cars',
          'selfies',
          'sexual health',
          'sexuality',
          'siracha',
          'sleeping schedules',
          'spongebob memes',
          'succulents',
          'sushi',
          'therapy',
          'unemployment',
          'vapes',
          'vine compilations',
          'wanderlust',
          'weed'
        ],
        verb: [
          'Tweeted',
          'complained',
          'posted',
          'protested',
          'protested',
          'selfied',
          'snapchatted'
        ],
        location: [
          'Amazon store',
          'Apple store',
          'Bubble tea shop',
          'Philz coffee',
          'beach',
          'cat cafe',
          'coworking space',
          'deli',
          'food truck',
          'fusion restaurant',
          'indie concert',
          'laundromat',
          'library',
          'pop-up shop',
          'protest',
          'ramen place',
          'record store',
          'rent-controlled apartment',
          'tea store',
          'therapist\’s office',
          'thrift store',
          'trendy coffee shop',
          'weed store',
          'yoga studio'
        ],
        containerLocation: [
          'Bath and Body Works',
          'Bay Area',
          'Brooklyn',
          'Burning Man',
          'H&M',
          'Ikea',
          'Lush',
          'Portland',
          'San Francisco',
          'Seattle',
          'Soulcycle',
          'Whole Foods',
          'the Tesla',
          'the Uber',
          'the self-driving car'
        ],
        properNoun: [
          'Bernie Sanders',
          'Beyonce',
          'Carson',
          'Elon Musk',
          'Karla',
          'Kayla',
          'Trump',
          'Victoria'
        ],
        phrase: [
          "${app} is being slow, and now I don't have any ${pluralNoun}.",
          '${app} is down and I can\’t access my ${noun}.',
          'I\’m out of ${pluralNoun}.',
          'New York Times says I\’m killing the ${noun} industry.',
          'I left my ${noun} at the ${location}.',
          'I left my ${noun} in ${containerLocation}.',
          'I\’m really anxious about ${pluralNoun}.',
          'I\’m really anxious about ${app}.',
          'I\’m sick of seeing ${pluralNoun} at the ${location}.',
          'I saw ${properNoun} at the ${location}.',
          'I broke my ${noun}.',
          'Can I get same day delivery with ${pluralNoun}?',
          'I have too much ${pluralNoun} but not a single ${noun}.',
          'I can\'t afford ${pluralNoun}, so I\'ll get a ${noun} instead.',
          'I can\'t afford ${pluralNoun}.'
        ]
      };

      String.prototype.interpolate = function(params) {
        const names = Object.keys(params);
        const vals = Object.values(params);
        return new Function(...names, `return \`${this}\`;`)(...vals);
      };

      const randValue = values =>
        values[Math.floor(Math.random() * values.length)];

      const makeProblem = data => {
        const keys = Object.keys(data);
        const randValues = {};
        for (const key of keys) {
          randValues[key] = randValue(data[key]);
        }
        return randValues.phrase.interpolate(randValues);
      };

      function updateProblem() {
        var problem = makeProblem(DATA);
        var el = document.getElementById('problem');
        var tweetLink = document.getElementById('twitter-share-button');
        el.innerText = problem;
        var problemForUrl = `${problem} https://decotext.github.io`;
        tweetLink.setAttribute('href', encodeURI(`https://twitter.com/intent/tweet?text=${problemForUrl} `)+'%23millenialproblemgenerator');
      }

      updateProblem();
    </script>
  </body>
</html>
